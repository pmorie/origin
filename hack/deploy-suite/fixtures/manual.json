{
    "id":"frontend-config3",
    "kind":"DeploymentConfig",
    "apiVersion":"v1beta1",
    "triggers":[
        {
            "type": "manual"
        },
        {
            "type": "image-change",
            "auto": true,
            "imageChangeParams": {
                "containerNames":[
                    "php-redis"
                ],
                "repositoryName": "127.0.0.1:5000/php-redis",
                "tag": "latest"
            }
        },
        {
            "type": "config-change",
            "auto": true,
        }
    ],
    "template":{
        "strategy":{
            "type":"customPod",
            "customPod":{
                "image":"127.0.0.1:5000/openshift/kube-deploy"
            }
        },
        "controllerTemplate":{
            "replicas":1,
            "replicaSelector":{
                "name":"frontend"
            },
            "podTemplate":{
                "desiredState":{
                    "manifest":{
                        "version":"v1beta1",
                        "id":"frontendController",
                        "containers":[
                            {
                                "name":"php-redis",
                                "image":"brendanburns/php-redis",
                                "env":[
                                    {
                                        "name":"ADMIN_USERNAME",
                                        "value":"admin"
                                    },
                                    {
                                        "name":"ADMIN_PASSWORD",
                                        "value":"secret"
                                    },
                                    {
                                        "name":"REDIS_PASSWORD",
                                        "value":"secret"
                                    }
                                ],
                                "ports":[
                                    {
                                        "containerPort":80
                                    }
                                ]
                            }
                        ]
                    }
                },
                "labels":{
                    "name":"frontend"
                }
            }
        }
    }
}
